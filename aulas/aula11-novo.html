<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aula 11 - Padrões Arquiteturais e de Projeto</title>

  <!-- Reveal.js -->
  <link rel="stylesheet" href="./dist/reveal.css">
  <link rel="stylesheet" href="./dist/theme/white.css" id="theme">

  <!-- Tema para código -->
  <link rel="stylesheet" href="./plugin/highlight/atom-one-dark.css">
  <link rel="stylesheet" href="aula05-materials/style.css">

  <!-- Menu plugin -->
  <script src="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/menu.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/menu.css" rel="stylesheet">
  <link rel="stylesheet" href="aula04-materials/style.css">
  <link rel="stylesheet" href="css/workshop.css">

  <style>
    /* ... estilos existentes ... */
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <!-- Slide 1: Título -->
      <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
        <br><br><br><br>
        <h4 style="color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">
          Programação para Dispositivos Móveis
        </h4>
        <p style="color: white; font-size: .5em; font-weight: 300; margin-top: 10px;">
          Prof. Msc. Nator Junior Carvalho da Costa
        </p>
        <h6 style="color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">
          Aula 11 - Padrões Arquiteturais e de Projeto em React Native
        </h6>
        <h1>🏗️</h1>
      </section>

      <!-- Slide 2: Objetivos -->
      <section data-background-gradient="radial-gradient(#1e3c72, #2a5298)">
        <div style="text-align: center;">
          <div style="
          background: rgba(255, 255, 255, 0.1);
          padding: 40px;
          border-radius: 20px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          backdrop-filter: blur(10px);
          border: 2px solid rgba(255, 255, 255, 0.1);
          margin: 20px;
        ">
            <h1 style="color: white; font-size: 2.5em; margin-bottom: 30px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
              Objetivos da Aula 🎯
            </h1>

            <ul style="list-style: none; padding: 0; text-align: left; color: white; font-size: 1.2em;">
              <li class="fragment fade-up" style="margin: 15px 0; padding-left: 25px; position: relative;">
                <span>🏛️</span>
                Compreender padrões arquiteturais
              </li>
              <li class="fragment fade-up" style="margin: 15px 0; padding-left: 25px; position: relative;">
                <span>🎨</span>
                Explorar padrões de projeto comuns
              </li>
              <li class="fragment fade-up" style="margin: 15px 0; padding-left: 25px; position: relative;">
                <span>📱</span>
                Implementar MVC e MVVM em React Native
              </li>
              <li class="fragment fade-up" style="margin: 15px 0; padding-left: 25px; position: relative;">
                <span>🔄</span>
                Aplicar padrões de componentes
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Seção Padrões Arquiteturais -->
      <section>
        <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
          <h2 style="color: white;">Padrões Arquiteturais 🏛️</h2>
          <div class="concept-box">
            <h3 style="color: white;">O que são Padrões Arquiteturais?</h3>
            <ul style="color: white;">
              <li class="fragment fade-right">Soluções reutilizáveis para problemas comuns de arquitetura</li>
              <li class="fragment fade-right">Organizam a estrutura geral do sistema</li>
              <li class="fragment fade-right">Definem responsabilidades e relacionamentos</li>
              <li class="fragment fade-right">Facilitam a manutenção e escalabilidade</li>
            </ul>
          </div>
        </section>

        <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
          <h2 style="color: white;">MVC (Model-View-Controller)</h2>
          <pre><code class="language-javascript">// Model
class UserModel {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }
}

// Controller
class UserController {
  constructor(model) {
    this.model = model;
  }

  updateUserData(name, email) {
    this.model.name = name;
    this.model.email = email;
  }
}

// View (React Native Component)
const UserView = ({ user, controller }) => {
  return (
    <View>
      <Text>Nome: {user.name}</Text>
      <Text>Email: {user.email}</Text>
      <Button
        title="Atualizar"
        onPress={() => controller.updateUserData('Novo Nome', 'novo@email.com')}
      />
    </View>
  );
};</code></pre>
        </section>

        <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
          <h2 style="color: white;">MVVM (Model-View-ViewModel)</h2>
          <pre><code class="language-javascript">// Model
class UserModel {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }
}

// ViewModel
const useUserViewModel = (initialUser) => {
  const [user, setUser] = useState(initialUser);

  const updateUser = (name, email) => {
    setUser(new UserModel(name, email));
  };

  return {
    user,
    updateUser,
  };
};

// View
const UserView = () => {
  const { user, updateUser } = useUserViewModel(
    new UserModel('João', 'joao@email.com')
  );

  return (
    <View>
      <Text>Nome: {user.name}</Text>
      <Text>Email: {user.email}</Text>
      <Button
        title="Atualizar"
        onPress={() => updateUser('Novo Nome', 'novo@email.com')}
      />
    </View>
  );
};</code></pre>
        </section>

        <!-- Seção Padrões de Projeto -->
        <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
          <h2 style="color: white;">Padrões de Projeto 🎨</h2>
          <div class="concept-box">
            <h3 style="color: white;">Padrões Comuns em React Native</h3>
            <ul style="color: white;">
              <li class="fragment fade-right">Higher-Order Components (HOC)</li>
              <li class="fragment fade-right">Render Props</li>
              <li class="fragment fade-right">Container/Presentational</li>
              <li class="fragment fade-right">Provider Pattern</li>
            </ul>
          </div>
        </section>

        <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
          <h2 style="color: white;">Higher-Order Component (HOC)</h2>
          <pre><code class="language-javascript">// HOC para adicionar funcionalidade de loading
const withLoading = (WrappedComponent) => {
  return function WithLoading({ isLoading, ...props }) {
    if (isLoading) {
      return (
        <View style={styles.center}>
          <ActivityIndicator size="large" />
        </View>
      );
    }
    return <WrappedComponent {...props} />;
  };
};

// Uso do HOC
const UserList = ({ users }) => {
  return (
    <FlatList
      data={users}
      renderItem={({ item }) => <UserCard user={item} />}
    />
  );
};

// Componente aprimorado com loading
const UserListWithLoading = withLoading(UserList);</code></pre>
        </section>

        <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
          <h2 style="color: white;">Provider Pattern</h2>
          <pre><code class="language-javascript">// Criando um contexto
const ThemeContext = React.createContext();

// Provider Component
const ThemeProvider = ({ children }) => {
  const [theme, setTheme] = useState('light');

  const toggleTheme = () => {
    setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');
  };

  return (
    <ThemeContext.Provider value={{ theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
};

// Hook personalizado para usar o tema
const useTheme = () => {
  const context = useContext(ThemeContext);
  if (!context) {
    throw new Error('useTheme deve ser usado dentro de um ThemeProvider');
  }
  return context;
};

// Uso no componente
const ThemedButton = () => {
  const { theme, toggleTheme } = useTheme();
  
  return (
    <TouchableOpacity
      style={[
        styles.button,
        { backgroundColor: theme === 'light' ? '#fff' : '#000' }
      ]}
      onPress={toggleTheme}
    >
      <Text style={{ color: theme === 'light' ? '#000' : '#fff' }}>
        Alternar Tema
      </Text>
    </TouchableOpacity>
  );
};</code></pre>
        </section>

        <!-- Seção Atividades Práticas -->
        <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
          <h2 style="color: white;">Atividades Práticas 💻</h2>
          
          <div class="concept-box">
            <h3 style="color: white;">Atividade 1: Refatoração com MVVM</h3>
            <p style="color: white;">Refatore um aplicativo existente para usar MVVM:</p>
            <ul style="color: white;">
              <li>Separe a lógica de negócios em ViewModels</li>
              <li>Implemente estados usando Hooks</li>
              <li>Crie componentes reutilizáveis</li>
              <li>Aplique o padrão Container/Presentational</li>
              <li>Adicione testes unitários para a lógica de negócios</li>
            </ul>
          </div>
        </section>

        <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
          <div class="concept-box">
            <h3 style="color: white;">Atividade 2: Gerenciamento de Tema Global</h3>
            <p style="color: white;">Crie um sistema de temas usando Context API:</p>
            <ul style="color: white;">
              <li>Implemente um ThemeProvider</li>
              <li>Crie hooks personalizados para o tema</li>
              <li>Adicione suporte a múltiplos temas</li>
              <li>Persista a preferência do usuário</li>
              <li>Aplique animações nas transições de tema</li>
            </ul>
          </div>
        </section>
      </section>
    </div>
  </div>

  <!-- Scripts Reveal.js -->
  <script src="dist/reveal.js"></script>
  <script src="plugin/markdown/markdown.js"></script>
  <script src="plugin/highlight/highlight.js"></script>
  <script src="./aula04-materials/script.js"></script>

  <script>
    Reveal.initialize({
      center: false,
      controls: true,
      progress: true,
      slideNumber: true,
      history: true,
      transition: 'convex',
      plugins: [RevealMarkdown, RevealHighlight, RevealMenu],
      markdown: {
        smartypants: true
      },
      width: 1200,
      height: 800,
      hash: true,
      respondToHashChanges: true,
      menu: {
        side: 'left',
        width: 300,
        numbers: true,
        titleSelector: 'h1, h2, h3, h4, h5, h6'
      }
    });
  </script>
</body>

</html>
