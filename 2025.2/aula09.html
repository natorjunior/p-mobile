<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aula 09 - Atividade Prática: Tab Navigation e APIs</title>

  <!-- Reveal.js core & theme -->
  <link rel="stylesheet" href="/lib/dist/reveal.css" />
  <link rel="stylesheet" href="/lib/dist/theme/white.css" id="theme" />

  <!-- Highlight.js theme for code blocks -->
  <link rel="stylesheet" href="/lib/plugin/highlight/atom-one-dark.css" />

  <!-- Menu plugin (CSS) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/menu.css" />

  <style>
    :root { --brand-1: #1e3c72; --brand-2: #2a5298; }

    .reveal { background: linear-gradient(135deg, var(--brand-1) 0%, var(--brand-2) 100%); }
    .reveal section { background: transparent; }

    .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 { color: #fff; text-shadow: 2px 2px 4px rgba(0,0,0,.45); }
    .reveal p, .reveal li { color: #fff; }

    /* Code blocks */
    .reveal pre { max-height: 420px; overflow: auto; margin: 0; box-shadow: 0 4px 12px rgba(0,0,0,.3); }
    .reveal pre code { font-size: .75em; padding: 16px; line-height: 1.5; background: #1e1e1e !important; border-radius: 8px; }
    .reveal pre code.hljs { background: #1e1e1e !important; }

    /* Utility boxes */
    .box { background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.15); border-radius: 10px; padding: 14px; margin: 10px 0; backdrop-filter: blur(8px); }
    .box h4 { margin: 0 0 8px 0; font-size: .95em; color: #fff; }
    .box ul, .box ol { margin: 8px 0 0 0; font-size: .9em; }
    .box li { margin: 4px 0; }

    .activity-box { background: rgba(249,115,22,.15); border-left: 4px solid #f97316; }
    .code-box { background: transparent; border: none; padding: 0; }
    .step-box { background: rgba(34,197,94,.15); border-left: 4px solid #22c55e; }
    .concept-box { background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.15); border-radius: 12px; padding: 16px; }
    .warning-box { background: rgba(239,68,68,.15); border-left: 4px solid #ef4444; border-radius: 10px; padding: 14px; }

    .reveal a { color: #93c5fd; }

    /* Small helper for tiny code */
    .code-small code { font-size: .72em !important; }
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">

      <!-- Slide 1: Capa (estilo Aula 08) -->
      <section data-background-gradient="radial-gradient(#283b95, #17b2c3)">
        <br><br><br><br>
        <h4 style="color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">
          Programação para Dispositivos Móveis
        </h4>
        <p style="color: white; font-size: .5em; font-weight: 300; margin-top: 10px;">
          Prof. Msc. Nator Junior Carvalho da Costa
        </p>
        <h6 style="color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">
          Aula 09 - Tab Navigation e APIs REST em React Native
        </h6>
        <h1>📱</h1>
      </section>

      <!-- Slide 2: Objetivos -->
      <section>
        <div style="text-align:center;">
          <div style="background: rgba(255,255,255,.1); padding: 40px; border-radius: 20px; box-shadow: 0 8px 32px rgba(0,0,0,.1); backdrop-filter: blur(10px); border: 2px solid rgba(255,255,255,.1); margin: 20px;">
            <h1 style="color:white; font-size:2.4em; margin-bottom: 24px;">Objetivos da Aula</h1>
            <ul style="list-style:none; padding:0; text-align:left; color:white; font-size:1.1em;">
              <li class="fragment fade-up" style="margin: 10px 0;">→ Construir app completo com Tab Navigation</li>
              <li class="fragment fade-up" style="margin: 10px 0;">→ Consumir múltiplas APIs REST</li>
              <li class="fragment fade-up" style="margin: 10px 0;">→ Implementar FlatList com dados reais</li>
              <li class="fragment fade-up" style="margin: 10px 0;">→ Gerenciar estados e loading</li>
              <li class="fragment fade-up" style="margin: 10px 0;">→ Criar interface intuitiva</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Slide 3: O que vamos construir -->
      <section>
        <h2>O que vamos construir?</h2>
        <div class="concept-box">
          <h3>InfoHub - App de Informações</h3>
          <p>Um aplicativo com 2 abas que consome diferentes APIs:</p>
          <ul>
            <li class="fragment"><strong>Gatinhos:</strong> Fotos aleatórias de gatos (The Cat API)</li>
            <li class="fragment"><strong>Cripto:</strong> Cotações de criptomoedas (CoinGecko)</li>
          </ul>
        </div>
        <p class="fragment">Construção incremental passo a passo</p>
      </section>

      <!-- Slide 4: Estrutura do Projeto -->
      <section>
        <h2>Estrutura do Projeto</h2>
        <pre><code class="language-bash">infohub-app/
├── App.js              # Configuração principal
├── screens/
│   ├── CatsScreen.js      # Tela de gatos
│   └── CryptoScreen.js    # Tela de cripto
├── package.json
└── app.json</code></pre>
        <p class="fragment">Vamos criar tudo do zero</p>
      </section>

      <!-- Slide 5: Passo 1 - Criar o projeto -->
      <section>
        <section>
          <h2>Passo 1 - Criar o Projeto</h2>
          <div class="box step-box">
            <h4>Terminal</h4>
            <pre><code class="language-bash"># Criar novo projeto
npx create-expo-app infohub-app --template blank

# Entrar no diretório
cd infohub-app

# Instalar dependências de navegação
npm install @react-navigation/native @react-navigation/bottom-tabs

# Instalar dependências do Expo
npx expo install react-native-screens react-native-safe-area-context

# Estrutura
mkdir screens
touch screens/CatsScreen.js screens/CryptoScreen.js</code></pre>
          </div>
        </section>
        <section>
          <h2>Resultado</h2>
          <p>Projeto criado e estruturado com as telas necessárias.</p>
        </section>
      </section>

      <!-- Slide 6: Passo 2 - Configurar Tab Navigation -->
      <section>
        <section data-auto-animate>
          <h2>Passo 2 - App.js</h2>
          <div class="box code-box">
            <h4>Imports</h4>
            <pre><code class="language-javascript" data-line-numbers>import { NavigationContainer } from '@react-navigation/native';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import CatsScreen from './screens/CatsScreen';
import CryptoScreen from './screens/CryptoScreen';</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 2 - App.js</h2>
          <div class="box code-box">
            <h4>Criar Tab Navigator</h4>
            <pre><code class="language-javascript" data-line-numbers>import { NavigationContainer } from '@react-navigation/native';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import CatsScreen from './screens/CatsScreen';
import CryptoScreen from './screens/CryptoScreen';

const Tab = createBottomTabNavigator();</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 2 - App.js</h2>
          <div class="box code-box">
            <h4>Estrutura do App</h4>
            <pre><code class="language-javascript" data-line-numbers>import { NavigationContainer } from '@react-navigation/native';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import CatsScreen from './screens/CatsScreen';
import CryptoScreen from './screens/CryptoScreen';

const Tab = createBottomTabNavigator();

export default function App() {
  return (
    &lt;NavigationContainer&gt;
      &lt;Tab.Navigator&gt;
      &lt;/Tab.Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
}</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 2 - App.js</h2>
          <div class="box code-box">
            <h4>Adicionar Screens</h4>
            <pre><code class="language-javascript" data-line-numbers>export default function App() {
  return (
    &lt;NavigationContainer&gt;
      &lt;Tab.Navigator&gt;
        &lt;Tab.Screen 
          name="Gatinhos" 
          component={CatsScreen} 
        /&gt;
        &lt;Tab.Screen 
          name="Cripto" 
          component={CryptoScreen} 
        /&gt;
      &lt;/Tab.Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
}</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 2 - App.js</h2>
          <div class="box code-box">
            <h4>Configurar Estilos</h4>
            <pre><code class="language-javascript" data-line-numbers>export default function App() {
  return (
    &lt;NavigationContainer&gt;
      &lt;Tab.Navigator
        screenOptions={{
          tabBarActiveTintColor: '#3b82f6',
          tabBarInactiveTintColor: '#9ca3af',
          headerStyle: { backgroundColor: '#1e3c72' },
          headerTintColor: '#fff',
        }}
      &gt;
        &lt;Tab.Screen name="Gatinhos" component={CatsScreen} /&gt;
        &lt;Tab.Screen name="Cripto" component={CryptoScreen} /&gt;
      &lt;/Tab.Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
}</code></pre>
          </div>
        </section>
      </section>

      <!-- Slide 7: CatsScreen -->
      <section>
        <section data-auto-animate>
          <h2>Passo 3 - CatsScreen</h2>
          <div class="box code-box">
            <h4>Imports</h4>
            <pre><code class="language-javascript" data-line-numbers>import React, { useState, useEffect } from 'react';
import { View, Text, FlatList, Image, StyleSheet, 
         ActivityIndicator, TouchableOpacity } from 'react-native';</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 3 - CatsScreen</h2>
          <div class="box code-box">
            <h4>Estado</h4>
            <pre><code class="language-javascript" data-line-numbers>import React, { useState, useEffect } from 'react';
import { View, Text, FlatList, Image, StyleSheet, 
         ActivityIndicator, TouchableOpacity } from 'react-native';

export default function CatsScreen() {
  const [cats, setCats] = useState([]);
  const [loading, setLoading] = useState(true);
}</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 3 - CatsScreen</h2>
          <div class="box code-box">
            <h4>Fetch API</h4>
            <pre><code class="language-javascript" data-line-numbers>export default function CatsScreen() {
  const [cats, setCats] = useState([]);
  const [loading, setLoading] = useState(true);

  const fetchCats = async () =&gt; {
    try {
      setLoading(true);
      const response = await fetch(
        'https://api.thecatapi.com/v1/images/search?limit=20'
      );
      const data = await response.json();
      setCats(data);
    } catch (error) {
      console.error('Erro:', error);
    } finally {
      setLoading(false);
    }
  };
}</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 3 - CatsScreen</h2>
          <div class="box code-box">
            <h4>useEffect</h4>
            <pre><code class="language-javascript" data-line-numbers>export default function CatsScreen() {
  const [cats, setCats] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() =&gt; {
    fetchCats();
  }, []);

  const fetchCats = async () =&gt; {
    try {
      setLoading(true);
      const response = await fetch(
        'https://api.thecatapi.com/v1/images/search?limit=20'
      );
      const data = await response.json();
      setCats(data);
    } catch (error) {
      console.error('Erro:', error);
    } finally {
      setLoading(false);
    }
  };
}</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 3 - CatsScreen</h2>
          <div class="box code-box">
            <h4>Loading State</h4>
            <pre><code class="language-javascript" data-line-numbers>  if (loading) {
    return (
      &lt;View style={styles.centered}&gt;
        &lt;ActivityIndicator size="large" color="#3b82f6" /&gt;
        &lt;Text style={{ color: '#fff' }}&gt;Carregando...&lt;/Text&gt;
      &lt;/View&gt;
    );
  }</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 3 - CatsScreen</h2>
          <div class="box code-box">
            <h4>Render UI</h4>
            <pre><code class="language-javascript" data-line-numbers>  return (
    &lt;View style={styles.container}&gt;
      &lt;TouchableOpacity 
        style={styles.btn} 
        onPress={fetchCats}
      &gt;
        &lt;Text style={styles.btnText}&gt;
          Carregar Novos Gatos
        &lt;/Text&gt;
      &lt;/TouchableOpacity&gt;

      &lt;FlatList
        data={cats}
        numColumns={2}
        keyExtractor={(item) =&gt; item.id}
        renderItem={({ item }) =&gt; (
          &lt;Image 
            source={{ uri: item.url }} 
            style={styles.image} 
          /&gt;
        )}
      /&gt;
    &lt;/View&gt;
  );
}</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 3 - CatsScreen</h2>
          <div class="box code-box">
            <h4>Estilos</h4>
            <pre><code class="language-javascript" data-line-numbers>const styles = StyleSheet.create({
  container: { 
    flex: 1, 
    backgroundColor: '#1e3c72' 
  },
  centered: { 
    flex: 1, 
    justifyContent: 'center', 
    alignItems: 'center' 
  },
  btn: { 
    backgroundColor: '#3b82f6', 
    padding: 12, 
    margin: 10, 
    borderRadius: 8 
  },
  btnText: { 
    color: '#fff', 
    textAlign: 'center', 
    fontWeight: 'bold' 
  },
  image: { 
    width: '48%', 
    height: 180, 
    margin: '1%', 
    borderRadius: 8 
  },
});</code></pre>
          </div>
        </section>
      </section>

      <!-- Slide 8: CryptoScreen -->
      <section>
        <section data-auto-animate>
          <h2>Passo 4 - CryptoScreen</h2>
          <div class="box code-box" data-id="crypto-step">
            <h4>Imports e Estado</h4>
            <pre><code class="language-javascript" data-line-numbers>import React, { useState, useEffect } from 'react';
import { View, Text, FlatList, StyleSheet, ActivityIndicator, TouchableOpacity } from 'react-native';

export default function CryptoScreen() {
  const [cryptos, setCryptos] = useState([]);
  const [loading, setLoading] = useState(true);
}</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 4 - CryptoScreen</h2>
          <div class="box code-box" data-id="crypto-step">
            <h4>Fetch com Auto-Atualização</h4>
            <pre><code class="language-javascript" data-line-numbers>export default function CryptoScreen() {
  const [cryptos, setCryptos] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchCryptos();
    const interval = setInterval(fetchCryptos, 30000);
    return () => clearInterval(interval);
  }, []);

  const fetchCryptos = async () => {
    try {
      setLoading(true);
      const response = await fetch(
        'https://api.coingecko.com/api/v3/coins/markets?vs_currency=brl&order=market_cap_desc&per_page=15&page=1'
      );
      const data = await response.json();
      setCryptos(data);
    } catch (error) {
      console.error('Erro:', error);
    } finally {
      setLoading(false);
    }
  };
}</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 4 - CryptoScreen</h2>
          <div class="box code-box" data-id="crypto-step">
            <h4>Renderizar Item (cabeçalho)</h4>
            <pre><code class="language-javascript" data-line-numbers>  const renderCrypto = ({ item }) => {
    const change = item.price_change_percentage_24h || 0;
    const isPositive = change >= 0;

    return (
      &lt;View style={styles.card}&gt;
        &lt;View style={styles.header}&gt;
          &lt;Text style={styles.name}&gt;{item.name}&lt;/Text&gt;
          &lt;Text style={styles.symbol}&gt;{item.symbol.toUpperCase()}&lt;/Text&gt;
        &lt;/View&gt;</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 4 - CryptoScreen</h2>
          <div class="box code-box" data-id="crypto-step">
            <h4>Renderizar Item (preço e variação)</h4>
            <pre><code class="language-javascript" data-line-numbers>        &lt;View style={styles.footer}&gt;
          &lt;Text style={styles.price}&gt;
            R$ {item.current_price.toLocaleString('pt-BR')}
          &lt;/Text&gt;
          &lt;Text style={{ color: isPositive ? '#22c55e' : '#ef4444', fontWeight: 'bold' }}&gt;
            {isPositive ? '▲' : '▼'} {Math.abs(change).toFixed(1)}%
          &lt;/Text&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    );
  };</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 4 - CryptoScreen</h2>
          <div class="box code-box" data-id="crypto-step">
            <h4>Estado de Carregamento</h4>
            <pre><code class="language-javascript" data-line-numbers>  if (loading && cryptos.length === 0) {
    return (
      &lt;View style={styles.centered}&gt;
        &lt;ActivityIndicator size="large" color="#3b82f6" /&gt;
        &lt;Text style={{ color: '#fff' }}&gt;Carregando...&lt;/Text&gt;
      &lt;/View&gt;
    );
  }</code></pre>
          </div>
        </section>

        <section data-auto-animate>
          <h2>Passo 4 - CryptoScreen</h2>
          <div class="box code-box" data-id="crypto-step">
            <h4>Render UI + Estilos</h4>
            <pre><code class="language-javascript" data-line-numbers>  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.headerBar}&gt;
        &lt;Text style={styles.title}&gt;Cotações&lt;/Text&gt;
        &lt;TouchableOpacity onPress={fetchCryptos}&gt;
          &lt;Text style={{ fontSize: 18 }}&gt;⟳&lt;/Text&gt;
        &lt;/TouchableOpacity&gt;
      &lt;/View&gt;
      &lt;FlatList
        data={cryptos}
        renderItem={renderCrypto}
        keyExtractor={(item) => item.id}
        contentContainerStyle={styles.list}
      /&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: { flex: 1, backgroundColor: '#1e3c72' },
  centered: { flex: 1, justifyContent: 'center', alignItems: 'center' },
  headerBar: { flexDirection: 'row', justifyContent: 'space-between', padding: 12, borderBottomWidth: 1, borderBottomColor: '#3b82f6' },
  title: { color: '#fff', fontSize: 16, fontWeight: 'bold' },
  list: { padding: 10 },
  card: { backgroundColor: '#2a5298', borderRadius: 8, padding: 12, marginBottom: 10 },
  header: { flexDirection: 'row', justifyContent: 'space-between', marginBottom: 8 },
  name: { color: '#fff', fontWeight: 'bold' },
  symbol: { fontSize: 12, color: '#93c5fd' },
  footer: { flexDirection: 'row', justifyContent: 'space-between' },
  price: { color: '#93c5fd', fontWeight: 'bold' },
});</code></pre>
          </div>
        </section>
      </section>

      <!-- Slide 10: Atividades (versão curta) -->
      <section>
        <section>
          <h2>Atividades Rápidas</h2>
          <div class="box activity-box">
            <p>Implemente mudanças simples em <strong>screens/CryptoScreen.js</strong></p>
            <ul style="margin-top:8px;">
              <li>1) Mostrar ícone de tendência no header (▲ se maioria positiva, ▼ se maioria negativa)</li>
            </ul>
          </div>
        </section>

        <section>
          <h2>2) Ícone de tendência no header</h2>
          <div class="box step-box">
            <ol>
              <li>Crie uma função que calcule a média de <code>price_change_percentage_24h</code> (use 0 para nulos).</li>
              <li>Se a média ≥ 0, mostre “▲”; caso contrário, “▼”.</li>
              <li>Exiba esse ícone ao lado do título “Cotações”. Atualize quando a lista mudar.</li>
            </ol>
          </div>
          <div class="box concept-box" style="margin-top:10px;">
            <strong>Aceite:</strong> O ícone muda conforme os dados carregados (sem travar a UI).
          </div>
        </section>
      </section>

      <!-- Slide 11: Testes -->
      <section>
    <h2>Testando o App</h2>
        <div class="box step-box">
          <h4>Iniciar</h4>
<pre><code class="language-bash">cd infohub-app
npx expo start

  # 'a' para Android | 'i' para iOS | QR Code para Expo Go</code></pre>
        </div>
        <div class="box activity-box" style="margin-top: 15px;">
          <h4>Checklist</h4>
          <ul style="font-size: .95em; margin: 0; padding-left: 20px;">
            <li>Abas funcionando?</li>
            <li>Dados carregando?</li>
            <li>Gatos aparecendo?</li>
            <li>Cotações atualizando?</li>
          </ul>
        </div>
      </section>

      <!-- Slide 11: Conceitos -->
      <section>
        <h2>Conceitos Aprendidos</h2>
        <div style="display:grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
          <div class="box code-box"><h4>useState</h4><p>Estado do componente</p></div>
          <div class="box code-box"><h4>useEffect</h4><p>Efeitos e timers</p></div>
          <div class="box code-box"><h4>async/await</h4><p>Assíncronas</p></div>
          <div class="box code-box"><h4>fetch API</h4><p>Consumir REST</p></div>
          <div class="box code-box"><h4>FlatList</h4><p>Listas performáticas</p></div>
          <div class="box code-box"><h4>Tab Navigation</h4><p>Navegação por abas</p></div>
        </div>
      </section>

      <!-- Slide 12: Próximos passos -->
      <section>
        <h2>Próximos Passos</h2>
        <div class="box activity-box">
          <h4>Desafios</h4>
          <ul style="font-size: .95em; margin: 0; padding-left: 20px;">
            <li>Adicionar pull-to-refresh</li>
            <li>Tratamento de erros com Alert</li>
            <li>Favoritos com AsyncStorage</li>
            <li>3ª/4ª aba com outra API</li>
            <li>Stack Navigator para detalhes</li>
          </ul>
        </div>
        <div class="box step-box" style="margin-top: 15px;">
          <h4>APIs Gratuitas</h4>
         <p>Rick and Morty API • PokeAPI • OpenWeather • Dog CEO • NewsAPI • JSONPlaceholder</p>
        </div>
      </section>

      <!-- Slide 13: Encerramento -->
      <section>
        <h1 style="color:white;">Parabéns!</h1>
        <p style="color:white; font-size:1.2em;">Você criou um app completo com navegação por abas e consumo de APIs REST</p>
        <div class="box" style="margin-top: 24px;">
          <p style="margin:0;">🚀 Continue praticando!</p>
        </div>
        <br />
        <p style="color: white; font-size: 1.1em;">Dúvidas? 🤔</p>
      </section>

    </div>
  </div>

  <!-- Reveal.js core & plugins (JS) -->
  <script src="/lib/dist/reveal.js"></script>
  <script src="/lib/plugin/notes/notes.js"></script>
  <script src="/lib/plugin/markdown/markdown.js"></script>
  <script src="/lib/plugin/highlight/highlight.js"></script>
  <script src="/lib/plugin/zoom/zoom.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/menu.js"></script>

  <script>
    // Inicialização do Reveal com plugins (inclui Menu)
    Reveal.initialize({
      hash: true,
      slideNumber: 'c/t',
      transition: 'slide',
      backgroundTransition: 'fade',
      autoAnimate: true,
      autoAnimateEasing: 'ease-in-out',
      autoAnimateDuration: 0.5,
      autoAnimateUnmatched: true,
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom, RevealMenu],
      menu: { themes: true, transitions: true }
    });
  </script>
</body>

</html>